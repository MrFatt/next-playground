<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charSet="utf-8" class="next-head"/><link rel="preload" href="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/post.js" as="script"/><link rel="preload" href="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/_app.js" as="script"/><link rel="preload" href="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/_error.js" as="script"/><link rel="preload" href="/next-playground/_next/static/runtime/webpack-96d52efe1a3b90f63e41.js" as="script"/><link rel="preload" href="/next-playground/_next/static/chunks/5a94768de1431d3b7d1e.js" as="script"/><link rel="preload" href="/next-playground/_next/static/runtime/main-51dc011f721c2a54b1a0.js" as="script"/><style id="jss-server-side">.jss5 {
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  z-index: 0;
  position: absolute;
  overflow: hidden;
  border-radius: inherit;
  pointer-events: none;
}
.jss6 {
  top: 0;
  left: 0;
  width: 50px;
  height: 50px;
  opacity: 0;
  position: absolute;
}
.jss7 {
  opacity: 0.3;
  transform: scale(1);
  animation: mui-ripple-enter 550ms cubic-bezier(0.4, 0, 0.2, 1);
}
.jss8 {
  animation-duration: 200ms;
}
.jss9 {
  width: 100%;
  height: 100%;
  opacity: 1;
  display: block;
  border-radius: 50%;
  background-color: currentColor;
}
.jss10 {
  opacity: 0;
  animation: mui-ripple-exit 550ms cubic-bezier(0.4, 0, 0.2, 1);
}
.jss11 {
  top: 0;
  left: 0;
  position: absolute;
  animation: mui-ripple-pulsate 2500ms cubic-bezier(0.4, 0, 0.2, 1) 200ms infinite;
}
@keyframes mui-ripple-enter {
  0% {
    opacity: 0.1;
    transform: scale(0);
  }
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
}
@keyframes mui-ripple-exit {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
@keyframes mui-ripple-pulsate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.92);
  }
  100% {
    transform: scale(1);
  }
}
.jss2 {
  color: inherit;
  cursor: pointer;
  margin: 0;
  border: 0;
  display: inline-flex;
  padding: 0;
  outline: none;
  position: relative;
  user-select: none;
  align-items: center;
  border-radius: 0;
  vertical-align: middle;
  justify-content: center;
  -moz-appearance: none;
  text-decoration: none;
  background-color: transparent;
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
}
.jss2::-moz-focus-inner {
  border-style: none;
}
.jss2.jss3 {
  cursor: default;
  pointer-events: none;
}
html {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
*, *::before, *::after {
  box-sizing: inherit;
}
body {
  margin: 0;
  background-color: #fafafa;
}
@media print {
  body {
    background-color: #fff;
  }
}
.jss1 {
  font-size: 26px;
  padding-left: 20px;
  padding-right: 20px;
}</style><style id="__jsx-602024804">img{max-width:1000px;}
blockquote{padding:0 1em;color:#6a737d;border-left:0.25em solid #dfe2e5;margin-left:0;margin-bottom:16px;margin-top:0;}
p,li{word-wrap:break-word;font-size:18px;line-height:1.58;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;}
p>code{padding:0.2em 0.4em;margin:0;font-size:85%;background-color:rgba(27,31,35,0.05);border-radius:3px;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo, Courier,monospace;}
pre{margin-top:0;margin-bottom:0;background-color:#f6f8fa;}
pre>code{margin-top:0;margin-bottom:0;word-break:normal;overflow:auto;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo, Courier,monospace;font-size:85%;line-height:1.45;border-radius:3px;}</style><title>Next-playground</title><meta charSet="utf-8"/><meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"/><meta name="theme-color" content="#9c27b0"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans:300,400,500"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet"/><script src="http://apps.bdimg.com/libs/highlight.js/9.1.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="__next"><div style="margin:20px;padding:20px"><div style="display:flex;justify-content:space-between;align-items:center"><div><img style="max-height:40px" src="/next-playground/static/logo.png"/></div><div><button tabindex="0" class="jss2 jss1" type="button">首页<span class="jss5"></span></button><button tabindex="0" class="jss2 jss1" type="button">关于我们<span class="jss5"></span></button></div><a href="https://github.com/TWNTF"><img src="/next-playground/static/GitHub-Mark-32px.png"/></a></div><div style="width:1000px;margin-left:auto;margin-right:auto;margin-top:50px;font-family:&quot;Open Sans&quot;, &quot;Microsoft YaHei&quot;, &quot;微软雅黑&quot;, STXihei,&quot;华文细黑&quot;, sans-serif"><div class="jsx-602024804"><div class="jsx-602024804"><ul>
<li>原文地址：<a href="https://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88">https://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88</a></li>
<li>译文出自：TWNTF</li>
<li>译者：Yingjian Li</li>
</ul>
<h1>Airbnb 的 React Native 实践： 构建一个跨平台的移动端团队</h1>
<blockquote>
<p>React Native 转型</p>
</blockquote>
<p><em>这是 Airbnb 关于 React Native 经验分享和移动端未来计划系列文章的第三篇.</em></p>
<p>除了数不尽的技术上的利弊, 我们还了解到 React Native 对工程团队的意义. 这远比向当前平台中添加一个新库或模式要复杂的多,我们在期间遭遇了许多组织上的挑战.与技术上的挑战不同,组织上的挑战更难发现,解决,恢复.谢天谢地,我们的 mobile 文化十分健全,但下面是在团队中使用 React Native 时需要注意的一些事项.</p>
<h3>两极分化的 React Native</h3>
<p>根据我们的经验, 工程师们关于 React Native 有着完全不同的看法,有人认为它是统一了 Android,iOS 和 web 的银弹,有人则完全反对在团队中使用 React Native.即使是在使用之后,情况也十分类似,有的团队认为它是极好的,而有的人却感到失望并重新使用 native.</p>
<h3>追踪根本原因</h3>
<p>在使用 React Native 时会有许多不可避免的 bug,改进和性能问题.但也还有许多不断变化的部分:</p>
<ol>
<li>React Native 自身变化十分迅速</li>
<li>基础设施和功能的开发是同时进行的</li>
<li>React Native 对所有人来说都是一门新的技术,需要大家一起学习</li>
<li>我们的文档与调试指引有时会不一致,产生困惑</li>
</ol>
<p>因此,想要找到问题的根本原始通常是很困难的.有时无法确定问题是由哪个团队引起的还是 React Native 自身导致的.</p>
<h3>React Native 仍然需要 native</h3>
<p>一个常见的误解就是 React Native 可以使你完全不用写原生代码.然而事实并非如此,有时你仍然需要写原生代码.例如,文本在不同平台上的渲染会有细微的差别,键盘的处理也有所不同以及在 Android 上 Activity 的重新创建和旋转等. 高质量的 React Native 应用需要仔细地平衡所有平台. 而三个平台间专业知识的平衡又十分困难,就导致了很难产出一个高质量的应用.</p>
<h3>跨平台调试</h3>
<p>大多数的工程师都精通一到两个平台.同时精通 Android,iOS 和 React 的人少之又少.即使绝大部分的工作都是在成熟的 React Native 环境下完成的,有时也需要在深层的 native 层构建或调试.这样工程师们就会在一个自己从来没用过的平台中 debug.而且由于问题的根本原因很难被定位,工程师会无从下手.</p>
<h3>招聘</h3>
<p>即使我们采用了 React Native,我们的 mobile 团队也在不断发展壮大.但是在社区中,许多人开始把 Airbnb 和 React Native 关联了起来,而且有些甚至认为我们的 App 是纯的 React Native App,但事实并非如此.结果许多 Android 和 iOS 工程师会犹豫是否要选择 Airbnb,我们仍然在<a href="https://www.airbnb.com/careers/departments/engineering">招聘</a>!</p>
<h3>艰难的 Hybrid App</h3>
<p>只用 React Native 或 native 开发应用是相对简单的.但是,一旦你选择了混合开发,你就会发现很多问题.如何划分团队?团队间如何协作?如何跨应用共享状态?如何保证测试?如何有效地跨平台调试?如何决定哪个平台使用新功能?如何雇佣和分配资源?这些都是不可避免而且很难解决的问题.</p>
<h3>三种开发环境</h3>
<p>如果想要高效地开发 React Native,必须要有稳定的,最新的 React Native, Android 和 iOS 环境.对于像 Airbnb 这样体量的公司来说,每个平台都需要大量的时间来配置,学习和更新.几个星期后回来通常意味着你需要花几个小时让一切恢复到最新状态.</p>
<h3>React Native 和 native 之间的平衡</h3>
<p>在很多情况下,解决问题的最佳方案都需要横跨 React Native 和 native.例如,我们导航栏的实现大量的使用 Activities 和 ViewControllers,大部分的代码都是各自平台上的 native 代码.很多时候都不清楚究竟是该写 React Native 代码还是 native 代码.而工程师自然会选择他们熟悉的平台,这就会产生一些不理想的代码.</p>
<h3>跨平台测试</h3>
<p>我们发现工程师们会主要开发他们熟悉的平台,而且认为如果在他们测试的平台上是好的,在其他平台上也是一样.受益于 React Native 的特性,大多数情况下确实是这样的.但是有些时候会在 QA 环境或产品环境中出现问题.</p>
<h3>团队划分</h3>
<p>同时使用 React Native 和 native 的团队会同时面对技术问题和沟通问题.一旦把代码库按照 native 和 React Native 划分开,代码会变得碎片化.共享业务逻辑,模型,状态等变得更加困难而且工程师不会再有整个工作流程的开发经验.我们从最开始就清楚这一点,但考虑到如果能够更多的和 web 端协作,情况可能会有好转.一些团队之间开始在 web 和 mobile 之间分享资源和代码,但效果并不明显.</p>
<h3>感观的迭代速度</h3>
<p>使用 React Native 的一个主要目标就是提高开发速度.通常情况下,React Native 的功能是由单个工程师完成的.从 React Native 工程师的角度来看,如果他花费了超过 Android 或 iOS 上开发时间的 50%的时间,即使整体花费的时间更少,他们也会觉得更长.</p>
<h3>公共资源和文档</h3>
<p>Android 和 iOS 已有 10 年历史,而且有数百万的工程师贡献于学习资源,开源和在线帮助.我们利用如<a href="https://codepath.com/androidbootcamp">CodePath</a>等资源帮助人们学习 Android 和 iOS.即使 React Native 拥有最大的跨平台社区之一,而且可以利用 React 的资源,但仍比 Android 和 iOS 小得多.再加上我们必须内部构建大部分基础设施,这意味着相对于 native,我们把有限的 React Native 资源过度地投资在教育和训练.</p>
<hr>
<p><em>这是 Airbnb 关于 React Native 经验分享和移动端未来计划系列文章的第三篇.</em></p>
<p><a href="/next-playground/post/3d074175beee9c9a882c8e288e938ddd1498769c">第一篇: React Native at Airbnb</a></p>
<p><a href="/next-playground/post/36b95d5c30598c2bcf3e70d8274c52710a2c79ad">第二篇: The Technology</a></p>
<p><a href="/next-playground/post/25e5dcd43fb900e51259dda79851ecd22f51d5d5">第三篇: Building a Cross-Platform Mobile Team</a></p>
<p><a href="/next-playground/post/a4dab8bba79d29d35cc1d204bf262013ed7a237a">第四篇: Making a Decision on React Native</a></p>
<p><a href="/next-playground/post/e3f75984d7efaf5cdc7c46dc7d596b13291d075d">第五篇: What’s Next for Mobile</a></p>
</div></div></div></div></div><div id="__next-error"></div><script>
      __NEXT_DATA__ = {"props":{"pageProps":{"text":"* 原文地址：https://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88\n* 译文出自：TWNTF\n* 译者：Yingjian Li\n\n\n# Airbnb 的 React Native 实践： 构建一个跨平台的移动端团队\n\n\u003e React Native 转型\n\n_这是 Airbnb 关于 React Native 经验分享和移动端未来计划系列文章的第三篇._\n\n除了数不尽的技术上的利弊, 我们还了解到 React Native 对工程团队的意义. 这远比向当前平台中添加一个新库或模式要复杂的多,我们在期间遭遇了许多组织上的挑战.与技术上的挑战不同,组织上的挑战更难发现,解决,恢复.谢天谢地,我们的 mobile 文化十分健全,但下面是在团队中使用 React Native 时需要注意的一些事项.\n\n### 两极分化的 React Native\n\n根据我们的经验, 工程师们关于 React Native 有着完全不同的看法,有人认为它是统一了 Android,iOS 和 web 的银弹,有人则完全反对在团队中使用 React Native.即使是在使用之后,情况也十分类似,有的团队认为它是极好的,而有的人却感到失望并重新使用 native.\n\n### 追踪根本原因\n\n在使用 React Native 时会有许多不可避免的 bug,改进和性能问题.但也还有许多不断变化的部分:\n\n1.  React Native 自身变化十分迅速\n2.  基础设施和功能的开发是同时进行的\n3.  React Native 对所有人来说都是一门新的技术,需要大家一起学习\n4.  我们的文档与调试指引有时会不一致,产生困惑\n\n因此,想要找到问题的根本原始通常是很困难的.有时无法确定问题是由哪个团队引起的还是 React Native 自身导致的.\n\n### React Native 仍然需要 native\n\n一个常见的误解就是 React Native 可以使你完全不用写原生代码.然而事实并非如此,有时你仍然需要写原生代码.例如,文本在不同平台上的渲染会有细微的差别,键盘的处理也有所不同以及在 Android 上 Activity 的重新创建和旋转等. 高质量的 React Native 应用需要仔细地平衡所有平台. 而三个平台间专业知识的平衡又十分困难,就导致了很难产出一个高质量的应用.\n\n### 跨平台调试\n\n大多数的工程师都精通一到两个平台.同时精通 Android,iOS 和 React 的人少之又少.即使绝大部分的工作都是在成熟的 React Native 环境下完成的,有时也需要在深层的 native 层构建或调试.这样工程师们就会在一个自己从来没用过的平台中 debug.而且由于问题的根本原因很难被定位,工程师会无从下手.\n\n### 招聘\n\n即使我们采用了 React Native,我们的 mobile 团队也在不断发展壮大.但是在社区中,许多人开始把 Airbnb 和 React Native 关联了起来,而且有些甚至认为我们的 App 是纯的 React Native App,但事实并非如此.结果许多 Android 和 iOS 工程师会犹豫是否要选择 Airbnb,我们仍然在[招聘](https://www.airbnb.com/careers/departments/engineering)!\n\n### 艰难的 Hybrid App\n\n只用 React Native 或 native 开发应用是相对简单的.但是,一旦你选择了混合开发,你就会发现很多问题.如何划分团队?团队间如何协作?如何跨应用共享状态?如何保证测试?如何有效地跨平台调试?如何决定哪个平台使用新功能?如何雇佣和分配资源?这些都是不可避免而且很难解决的问题.\n\n### 三种开发环境\n\n如果想要高效地开发 React Native,必须要有稳定的,最新的 React Native, Android 和 iOS 环境.对于像 Airbnb 这样体量的公司来说,每个平台都需要大量的时间来配置,学习和更新.几个星期后回来通常意味着你需要花几个小时让一切恢复到最新状态.\n\n### React Native 和 native 之间的平衡\n\n在很多情况下,解决问题的最佳方案都需要横跨 React Native 和 native.例如,我们导航栏的实现大量的使用 Activities 和 ViewControllers,大部分的代码都是各自平台上的 native 代码.很多时候都不清楚究竟是该写 React Native 代码还是 native 代码.而工程师自然会选择他们熟悉的平台,这就会产生一些不理想的代码.\n\n### 跨平台测试\n\n我们发现工程师们会主要开发他们熟悉的平台,而且认为如果在他们测试的平台上是好的,在其他平台上也是一样.受益于 React Native 的特性,大多数情况下确实是这样的.但是有些时候会在 QA 环境或产品环境中出现问题.\n\n### 团队划分\n\n同时使用 React Native 和 native 的团队会同时面对技术问题和沟通问题.一旦把代码库按照 native 和 React Native 划分开,代码会变得碎片化.共享业务逻辑,模型,状态等变得更加困难而且工程师不会再有整个工作流程的开发经验.我们从最开始就清楚这一点,但考虑到如果能够更多的和 web 端协作,情况可能会有好转.一些团队之间开始在 web 和 mobile 之间分享资源和代码,但效果并不明显.\n\n### 感观的迭代速度\n\n使用 React Native 的一个主要目标就是提高开发速度.通常情况下,React Native 的功能是由单个工程师完成的.从 React Native 工程师的角度来看,如果他花费了超过 Android 或 iOS 上开发时间的 50%的时间,即使整体花费的时间更少,他们也会觉得更长.\n\n### 公共资源和文档\n\nAndroid 和 iOS 已有 10 年历史,而且有数百万的工程师贡献于学习资源,开源和在线帮助.我们利用如[CodePath](https://codepath.com/androidbootcamp)等资源帮助人们学习 Android 和 iOS.即使 React Native 拥有最大的跨平台社区之一,而且可以利用 React 的资源,但仍比 Android 和 iOS 小得多.再加上我们必须内部构建大部分基础设施,这意味着相对于 native,我们把有限的 React Native 资源过度地投资在教育和训练.\n\n---\n\n_这是 Airbnb 关于 React Native 经验分享和移动端未来计划系列文章的第三篇._\n\n[第一篇: React Native at Airbnb](/next-playground/post/3d074175beee9c9a882c8e288e938ddd1498769c)\n\n[第二篇: The Technology](/next-playground/post/36b95d5c30598c2bcf3e70d8274c52710a2c79ad)\n\n[第三篇: Building a Cross-Platform Mobile Team](/next-playground/post/25e5dcd43fb900e51259dda79851ecd22f51d5d5)\n\n[第四篇: Making a Decision on React Native](/next-playground/post/a4dab8bba79d29d35cc1d204bf262013ed7a237a)\n\n[第五篇: What's Next for Mobile](/next-playground/post/e3f75984d7efaf5cdc7c46dc7d596b13291d075d)\n"},"apolloState":{}},"page":"/post","pathname":"/post","query":{"name":"Airbnb 的 React Native 实践： 构建一个跨平台的移动端团队"},"buildId":"269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3","assetPrefix":"/next-playground","nextExport":true}
      module={}
      __NEXT_LOADED_PAGES__ = []

      __NEXT_REGISTER_PAGE = function (route, fn) {
        __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
      }
    </script><script async="" id="__NEXT_PAGE__/post" src="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/next-playground/_next/static/269d8c84-9ab8-47c1-89fc-f50ea2fd0ef3/pages/_error.js"></script><script src="/next-playground/_next/static/runtime/webpack-96d52efe1a3b90f63e41.js" async=""></script><script src="/next-playground/_next/static/chunks/5a94768de1431d3b7d1e.js" async=""></script><script src="/next-playground/_next/static/runtime/main-51dc011f721c2a54b1a0.js" async=""></script></body></html>